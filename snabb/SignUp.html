<!DOCTYPE html>
<html>
<meta charset="ISO-8859-1">
<title>SnabbTech</title>
<head>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
	crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="bootstrap.css">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	crossorigin="anonymous"></script>
</head>
<body>
	<nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
  <div class="container">
 <link rel="stylesheet" type="text/css" href="Login.html">
      <img src="logo.jfif" alt="Bootstrap" width="100" height="74">
    </a>
    <!-- <li class="nav-item"> -->
    	<a class="nav-link" href="Login.html">Login</a>
    		<a class="nav-link" href="ForgetPassword.html">ForgetPassword</a>
    </li>
  </div>
</nav>
<br>
	<section class="h-40">
		<div class="container py-5 h-100">
			<div
				class="row d-flex justify-content-center align-items-center h-70">
				<div class="col">
					<div class="card card-registration">
						<div class="row g-0">
							<div class="col-xl-6 d-none d-xl-block">
								<img
									src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp"
									alt="Sample photo" class="img-fluid" />
							</div>
							<div class="col-xl-6">
								<div class="card-body p-md-5 text-black">
									<h2 class="text-uppercase text-center mb-5">Create an
										account</h2>

								
										<div class="form-outline mb-4">
											<label for="Id">User Id</label> <input type="text" id="Id"
												name="userId" class="form-control" onchange="onUser()"
												placeholder="User Name" /> 
										</div>

										<!-- Email input -->
										<div class="form-outline mb-4">
											<label class="form-label" for="EmailId">Email address</label>
											<input type="email" id="EmailId" name="email"
												class="form-control" onchange="onEmail()"
												placeholder="Email" /> 
										</div>
										<!-- Password input -->
										<div class="form-group">
											<label for="formGroupExampleInput">Password </label><input
												class="form-control " type="password" name="password"
												placeholder="password" required id="txtPassword" />
										</div>

										<div class="form-group">
											<label for="formGroupExampleInput">Confirm Password </label><input
												class="form-control " type="password" name="password"
												placeholder=" confirm password" required
												id="txtConfirmPassword" />
										</div>

										<div class="form-outline mb-4">
											<label class="form-label" for="MobileNoId">Mobile
												number</label> <input type="number" id="MobileNoId"
												name="phoneNumber" class="form-control"
												onchange="onMobileNo()" placeholder="Phone Number" /> 
										</div>


										<!-- Checkbox -->
										<div>
											Accept Terms and Condtions <input type="checkbox"
												id="agreement" onclick="onAgreement()" required> <br>
											<br>
										</div>
										<!-- Submit button -->
										<button class="btn-btn-success" href="LoginSuccess.html">Register</button>
				 <br> Already have an account...
										<a href="Login.html">Login here </a>
									</form>
									<script>
										function onUser() {
											console.log("running onUser")
											var userInput = document
													.getElementById('Id');
											var userValue = userInput.value;
											console.log(userValue);
											if (userValue != null
													&& userValue != ""
													&& userValue.length > 3
													&& userValue.length < 30) {
												console.log('valid userName');
												var agrement = document
														.getElementById('agreement');
												if (agrement.checked) {
													document
															.getElementById('submitId').disabled = false;
												}
												document
														.getElementById('UserIdError').innerHTML = '';
											} else {
												console
														.log('invalid user name');
												document
														.getElementById('submitId').disabled = 'disabled';
												document
														.getElementById('UserIdError').innerHTML = 'Invalid userId, please enter min 3 and max 30';
											}
											const xhttp = new XMLHttpRequest();
											console.log('Running in ajax');
											console.log(userValue);
											xhttp.open("GET",
													"http://localhost:8082/xworkz-sahana-cm/userId/"
															+ userValue);
											xhttp.send();
											xhttp.onload = function() {
												console.log(this);
												document
														.getElementById("displayUserName").innerHTML = this.responseText
											}
										}
										function onEmail() {
											console.log("running onEmail")
											var emailInput = document
													.getElementById('EmailId');
											var emailValue = emailInput.value;
											console.log(emailValue);
											if (emailValue != null
													&& emailValue != ""
													&& emailValue.length > 3
													&& emailValue.length < 30) {
												console.log('valid email');
												var agrement = document
														.getElementById('agreement');
												if (agrement.checked) {
													document
															.getElementById('submitId').disabled = false;
												}
												document
														.getElementById('EmailError').innerHTML = '';
											} else {
												console.log('invalid email');
												document
														.getElementById('submitId').disabled = 'disabled';
												document
														.getElementById('EmailError').innerHTML = 'Invalid Email, please enter min 3 and max 30';
											}
											const xhttp = new XMLHttpRequest();
											console.log('Running in ajax');
											console.log(emailValue);
											xhttp.open("GET",
													"http://localhost:8082/xworkz-sahana-cm/email/"
															+ emailValue);
											xhttp.send();
											xhttp.onload = function() {
												console.log(this);
												document
														.getElementById("displayEmail").innerHTML = this.responseText
											}
										}
										function Validate() {
											var password = document
													.getElementById("txtPassword").value;
											var confirmPassword = document
													.getElementById("txtConfirmPassword").value;
											if (password != confirmPassword) {
												alert("Passwords do not match.");
												return false;
											}
											return true;
										}

										function onMobileNo() {
											console.log("running onMobileNo")
											var mobileNoInput = document
													.getElementById('MobileNoId');
											var mobileNoValue = mobileNoInput.value;
											console.log(mobileNoValue);
											if (mobileNoValue != null
													&& mobileNoValue != ""
													&& mobileNoValue.length > 3
													&& mobileNoValue.length == 10) {
												console
														.log('valid Mobile number')
												document
														.getElementById('MobileNoError').innerHTML = '';
											} else {
												console
														.log('invalid Mobile number');
												document
														.getElementById('MobileNoError').innerHTML = ' please enter Mobile Number';
											}
											const xhttp = new XMLHttpRequest();
											console.log('Running in ajax');
											console.log(mobileNoValue);
											xhttp.open("GET",
													"http://localhost:8082/xworkz-sahana-cm/phoneNumber/"
															+ mobileNoValue);
											xhttp.send();
											xhttp.onload = function() {
												console.log(this);
												document
														.getElementById("displayMobileNo").innerHTML = this.responseText
											}
										}

										function onAgreement() {

											var agrement = document
													.getElementById('agreement');
											console.log(agrement.checked);
											if (agrement.checked) {
												document
														.getElementById('submitId').disabled = false;
											} else {
												document
														.getElementById('submitId').disabled = 'disabled';
											}

										}
									</script>

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>